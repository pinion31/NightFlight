{"version":3,"sources":["../server/server.js"],"names":["yelp","require","clientId","process","env","CLIENT_ID_YELP","clientSecret","CLIENT_KEY_YELP","searchRequest","term","location","app","use","static","json","get","req","res","accessToken","then","client","response","jsonBody","access_token","search","console","dir","JSON","stringify","businesses","catch","log","e","listen"],"mappings":"AAAA;;AAEA;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,OAAOC,QAAQ,aAAR,CAAb;;AAEA,IAAMC,WAAWC,QAAQC,GAAR,CAAYC,cAA7B;AACA,IAAMC,eAAeH,QAAQC,GAAR,CAAYG,eAAjC;;AAEA,IAAMC,gBAAgB;AACpBC,QAAK,WADe;AAEpBC,YAAU;AAFU,CAAtB;;AAOA,IAAMC,MAAM,wBAAZ;;AAEAA,IAAIC,GAAJ,CAAQ,kBAAQC,MAAR,CAAe,QAAf,CAAR;AACAF,IAAIC,GAAJ,CAAQ,qBAAWE,IAAX,EAAR;;AAEAH,IAAII,GAAJ,CAAQ,OAAR,EAAiB,UAACC,GAAD,EAAMC,GAAN,EAAc;;AAE7BjB,OAAKkB,WAAL,CAAiBhB,QAAjB,EAA2BI,YAA3B,EAAyCa,IAAzC,CAA8C,oBAAY;AAC1D,QAAMC,SAASpB,KAAKoB,MAAL,CAAYC,SAASC,QAAT,CAAkBC,YAA9B,CAAf;;AAEAH,WAAOI,MAAP,CAAchB,aAAd,EAA6BW,IAA7B,CAAkC,oBAAY;AAC5C;AACA;AACAM,cAAQC,GAAR,CAAYC,KAAKC,SAAL,CAAeP,SAASC,QAAT,CAAkBO,UAAjC,CAAZ;AACAZ,UAAIH,IAAJ,CAASa,KAAKC,SAAL,CAAeP,SAASC,QAAT,CAAkBO,UAAjC,CAAT;AACC,KALH;AAMC,GATD,EASGC,KATH,CASS,aAAK;AACZL,YAAQM,GAAR,CAAYC,CAAZ;AACD,GAXD;AAaC,CAfH;;AAkBArB,IAAIsB,MAAJ,CAAW,IAAX,EAAiB,YAAM;AACrBR,UAAQM,GAAR,CAAY,0BAAZ;AAED,CAHD","file":"server.js","sourcesContent":["'use strict';\r\n\r\nimport 'babel-polyfill';\r\nimport SourceMapSupport from 'source-map-support';\r\nimport express from 'express';\r\nimport bodyParser from 'body-parser';\r\n\r\nconst yelp = require('yelp-fusion');\r\n\r\nconst clientId = process.env.CLIENT_ID_YELP;\r\nconst clientSecret = process.env.CLIENT_KEY_YELP;\r\n\r\nconst searchRequest = {\r\n  term:'nightlife',\r\n  location: 'austin, tx'\r\n};\r\n\r\n\r\n\r\nconst app = express();\r\n\r\napp.use(express.static('static'));\r\napp.use(bodyParser.json());\r\n\r\napp.get('/list', (req, res) => {\r\n\r\n  yelp.accessToken(clientId, clientSecret).then(response => {\r\n  const client = yelp.client(response.jsonBody.access_token);\r\n\r\n  client.search(searchRequest).then(response => {\r\n    //const results = response.jsonBody.businesses[0];\r\n    //const prettyJson = JSON.stringify(response.jsonBody.businesses[0]);\r\n    console.dir(JSON.stringify(response.jsonBody.businesses));\r\n    res.json(JSON.stringify(response.jsonBody.businesses));\r\n    });\r\n  }).catch(e => {\r\n    console.log(e);\r\n  });\r\n\r\n  });\r\n\r\n\r\napp.listen(3000, () => {\r\n  console.log('App started on port 3000');\r\n\r\n});"]}